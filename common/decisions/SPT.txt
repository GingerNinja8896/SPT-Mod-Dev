
spt_category = {
	AST_annex_new_zealand_decision = {
		allowed = {
			original_tag = AST
		}
		available = {
			NZL = {
				is_ai = yes
			}
			is_ai = no
		}
		complete_effect = {
			annex_country = { target = NZL transfer_troops = yes }
			add_state_core = 284
			add_state_core = 726
			add_state_core = 723

		}
		fire_only_once = yes
	}

	ITA_supply_spirit_decision = {
		allowed = {
			original_tag = ITA
		}
		available = {
			ITA = {
				controls_state = 448
				controls_state = 661
				controls_state = 449
				controls_state = 662
				controls_state = 450
				controls_state = 663
				controls_state = 451
				controls_state = 452
			}
		}

		fire_only_once = yes
	

		complete_effect = {
			add_timed_idea = {
				idea = supply_spirit
				days = 180
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	SIA_request_indochina_decision = {
		allowed = {
			original_tag = SIA
		}
		available = {
			hidden_trigger = {
				is_ai = no
			}
			JAP = {
				controls_state = 670
				controls_state = 671
				controls_state = 741
				controls_state = 286	
			}
		}

		fire_only_once = yes

		complete_effect = {
			JAP ={
				country_event = {
					id = spt.4
					days = 3
				}
			} 
		}
	}
	
	ITA_pacify_yugoslavia_decision = {
		allowed = {
			original_tag = ITA
		}
		available = {
			has_war_with_non_exiled_country = no
			any_owned_state = {
				is_core_of = YUG
				NOT = {is_core_of=ITA}
				NOT = {state = 163}
			}
			
		}
		fire_only_once = yes
		complete_effect = {
			every_owned_state = {
				limit = {
					is_core_of = YUG
					NOT = {is_core_of=ITA}
					NOT = {state = 163}
				}
				add_compliance = 80
			}
		}
	}

	ARG_request_falkland_islands = {
		allowed = {
			original_tag = ARG
		}
		available = {
			ENG = {
				has_war_with = GER
				controls_state = 299
			}
			hidden_trigger = {
				is_ai = no
			}
		}
		fire_only_once = yes

		complete_effect = {
			ENG = {
				country_event = {
					days = 3
					id = spt.7
				}
			}
		}
	}

	JAP_declare_war_on_allies = {
		allowed = {
			original_tag = JAP
		}
		available = {
			date > 1941.1.1
		}
		fire_only_once = yes

        complete_effect = {
            every_country = {
                limit = {is_in_faction_with = ENG}
                JAP = {
                    declare_war_on = {
                        target = PREV
                        type = annex_everything
                    }
                }
            }
        }
    }


}

USA_PAC_category = {
	USA_PAC_island_targets = {

		available = {
			controls_state = 526
			controls_state = 524
			controls_state = 645
			controls_state = 648
			controls_state = 646
			controls_state = 684
			controls_state = 647
			controls_state = 633
			controls_state = 591
			controls_state = 555
			
			hidden_trigger = {
				always = no
			}
		}

		icon = mission_icon

	}
	
	USA_PAC_island_defense = {

		available = {
			
			controls_state = 629
			controls_state = 630
			controls_state = 631
			controls_state = 632
			controls_state = 638
			PHI = {controls_state = 327}
			PHI = {controls_state = 627}
			AST = {controls_state = 634}
			AST = {controls_state = 523}
			AST = {controls_state = 737}
			
	
			hidden_trigger = {
				always = no
			}
		}

		icon = mission_icon

	}
	
	USA_PAC_prepare_assault = {
		days_remove = 30
		cost = 50
		days_re_enable = 90
		modifier = {
			invasion_preparation = -0.5
			naval_invasion_planning_bonus_speed = 1
		}
		remove_effect = {
			activate_mission = USA_PAC_secure_island
			every_state = {
				limit = {
					controller = {
						OR = {
							original_tag = JAP
							is_ally_with = JAP
						}
					}
					OR = {
						state = 629
						state = 630
						state = 631
						state = 632
						state = 638
						state = 327
						state = 627
						state = 634
						state = 523
						state = 737
						state = 526
						state = 524
						state = 645
						state = 648
						state = 646
						state = 684
						state = 647
						state = 633
						state = 591
						state = 555
					} 
				}
				add_dynamic_modifier = {
					modifier = USA_impending_assault
				}
			}
		}
				
	}

	USA_PAC_secure_island = {
		activation = {
			always = no
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = capture_island_tt
				has_country_flag = USA_captured_island	
			}
			
		}
		cancel_trigger = {
			hidden_trigger = {
				NOT = {
					has_war_with = JAP
				}
			}
		}
		timeout_effect = {
			hidden_effect = {
				every_state = {
					limit = {
						has_dynamic_modifier = {
							modifier = USA_impending_assault
						}
					}
					remove_dynamic_modifier = {
						modifier = USA_impending_assault
					}
				}
			}
			pacific_balance_jap_5_effect = yes
		}
		complete_effect = {
			clr_country_flag = USA_captured_island
			hidden_effect = {
				every_state = {
					limit = {
						has_dynamic_modifier = {
							modifier = USA_impending_assault
						}
					}
					remove_dynamic_modifier = {
						modifier = USA_impending_assault
					}
				}
			}
				
		}

		is_good = no
		days_mission_timeout = 30
		
	}

	USA_PAC_fortify_islands = {
		cost = 50
		fire_only_once = yes
		days_remove = 100
		modifier = {
			production_speed_coastal_bunker_factor = 1
		}
	}

}

JAP_PAC_category = {
	JAP_PAC_island_targets = {
		
		available = {
			controls_state = 629
			controls_state = 630
			controls_state = 631
			controls_state = 632
			controls_state = 638
			controls_state = 327
			controls_state = 627
			controls_state = 634
			controls_state = 523
			controls_state = 737
			
			hidden_trigger = {
				always = no
			}
		}

		icon = mission_icon


	}
	
	JAP_PAC_island_defense = {

		available = {

			controls_state = 526
			controls_state = 524
			controls_state = 645
			controls_state = 648
			controls_state = 646
			controls_state = 684
			controls_state = 647
			controls_state = 633
			controls_state = 555
			OR = {
				controls_state = 591
				MAN = {controls_state = 591}
			}
			
			
			hidden_trigger = {
				always = no
			}
		
		}
		icon = mission_icon

	}

	JAP_PAC_prepare_assault = {
		days_remove = 30
		cost = 50
		days_re_enable = 90
		modifier = {
			invasion_preparation = -0.5
			naval_invasion_planning_bonus_speed = 1
		}
		remove_effect = {
			activate_mission = JAP_PAC_secure_island
			every_state = {
				limit = {
					controller = {
						OR = {
							original_tag = USA
							is_ally_with = USA
						}
					}
					OR = {
						state = 629
						state = 630
						state = 631
						state = 632
						state = 638
						state = 327
						state = 627
						state = 634
						state = 523
						state = 737
						state = 526
						state = 524
						state = 645
						state = 648
						state = 646
						state = 684
						state = 647
						state = 633
						state = 591
						state = 555
					} 
				}
				add_dynamic_modifier = {
					modifier = JAP_impending_assault
				}
			}
		}		
	}		

	JAP_PAC_secure_island = {
		activation = {
			always = no
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = capture_island_tt
				has_country_flag = JAP_captured_island	
			}
			
		}
		cancel_trigger = {
			NOT = {
				hidden_trigger = {
					has_war_with = USA
				}
			}
		}
		timeout_effect = {
			hidden_effect = {
				every_state = {
					limit = {
						has_dynamic_modifier = {
							modifier = JAP_impending_assault
						}
					}
					remove_dynamic_modifier = {
						modifier = JAP_impending_assault
					}
				}
			}
			pacific_balance_usa_5_effect = yes
		}
		complete_effect = {
			clr_country_flag = JAP_captured_island
			hidden_effect = {
				every_state = {
					limit = {
						has_dynamic_modifier = {
							modifier = JAP_impending_assault
						}
					}
					remove_dynamic_modifier = {
						modifier = JAP_impending_assault
					}
				}
			}
				
		}

		is_good = no
		days_mission_timeout = 30
		
	}

	JAP_PAC_fortify_islands = {
		cost = 50
		fire_only_once = yes
		days_remove = 100
		modifier = {
			production_speed_coastal_bunker_factor = 1
		}
	}
}



SPT_propaganda_campaigns = {
	SPT_test = {
		complete_effect = {
			set_country_flag = {
				flag = PROP_left_days_remaining
				days = 100
				value = 1
			}
		}
	}
	SPT_test2 = {
		complete_effect = {
			set_country_flag = {
				flag = PROP_centre_days_remaining
				days = 150
				value = 1
			}
		}
	}
}
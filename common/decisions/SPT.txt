
spt_category = {
	AST_annex_new_zealand_decision = {
		allowed = {
			original_tag = AST
		}
		available = {
			NZL = {
				is_ai = yes
			}
			is_ai = no
		}
		complete_effect = {
			annex_country = { target = NZL transfer_troops = yes }
			add_state_core = 284
			add_state_core = 726
			add_state_core = 723

		}
		fire_only_once = yes
	}

	ITA_supply_spirit_decision = {
		allowed = {
			original_tag = ITA
		}
		available = {
			ITA = {
				controls_state = 448
				controls_state = 661
				controls_state = 449
				controls_state = 662
				controls_state = 450
				controls_state = 663
				controls_state = 451
				controls_state = 452
			}
		}

		fire_only_once = yes
	

		complete_effect = {
			add_timed_idea = {
				idea = supply_spirit
				days = 180
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	SIA_request_indochina_decision = {
		allowed = {
			original_tag = SIA
		}
		available = {
			hidden_trigger = {
				is_ai = no
			}
			JAP = {
				controls_state = 670
				controls_state = 671
				controls_state = 741
				controls_state = 286	
			}
		}

		fire_only_once = yes

		complete_effect = {
			JAP ={
				country_event = {
					id = spt.4
					days = 3
				}
			} 
		}
	}
	
	ITA_pacify_yugoslavia_decision = {
		allowed = {
			original_tag = ITA
		}
		available = {
			has_war_with_non_exiled_country = no
			any_owned_state = {
				is_core_of = YUG
				NOT = {is_core_of=ITA}
				NOT = {state = 163}
			}
			
		}
		fire_only_once = yes
		complete_effect = {
			every_owned_state = {
				limit = {
					is_core_of = YUG
					NOT = {is_core_of=ITA}
					NOT = {state = 163}
				}
				add_compliance = 80
			}
		}
	}

	ARG_request_falkland_islands = {
		allowed = {
			original_tag = ARG
		}
		available = {
			ENG = {
				has_war_with = GER
				controls_state = 299
			}
			hidden_trigger = {
				is_ai = no
			}
		}
		fire_only_once = yes

		complete_effect = {
			ENG = {
				country_event = {
					days = 3
					id = spt.7
				}
			}
		}
	}

	JAP_declare_war_on_allies = {
		allowed = {
			original_tag = JAP
		}
		available = {
			date > 1941.1.1
		}
		fire_only_once = yes

        complete_effect = {
            every_country = {
                limit = {is_in_faction_with = ENG}
                JAP = {
                    declare_war_on = {
                        target = PREV
                        type = annex_everything
                    }
                }
            }
        }
    }

	FRA_push_into_italy = {
		allowed = {
			OR = {
				original_tag = FRA
				original_tag = ENG
			}
		}

		visible = {
			is_ai = no
			has_war_with = ITA
			ITA = {
				has_power_balance = {
					id = ITA_MED_med_front
				}
			}
			NOT = {
				AND = {
					original_tag = ENG
					FRA = { is_ai = no }
				}
			}
			NOT = {
				has_global_flag = Push_into_Italy
			}
		}

		fire_only_once = yes

		available = {
			custom_trigger_tooltip = {
				tooltip = france_fallen_tt
				has_global_flag = france_fallen #There might be a vanilla flag but i dont trust it
			}
			16 = { controlled_by_allies = yes}
			735 = { controlled_by_allies = yes}
			851 = { controlled_by_allies = yes}
			21 = { controlled_by_allies = yes}
			32 = { controlled_by_allies = yes}
		}

		complete_effect = {
			set_global_flag = Push_into_Italy
			ITA = {
				every_core_state = {
					limit = {
						is_in_home_area = yes
						is_coastal = yes
						
						NOT = {state = 115}
					}
					custom_effect_tooltip = FRA_push_into_italy_tt
					hidden_effect = {
						if = {
							limit = { has_dynamic_modifier = { modifier = PAC_home_defense_1 } }
							remove_dynamic_modifier = {
								modifier = PAC_home_defense_1
							}
						}
						if = {
							limit = { has_dynamic_modifier = { modifier = PAC_home_defense_2 } }
							remove_dynamic_modifier = {
								modifier = PAC_home_defense_2
							}
						}
						if = {
							limit = { has_dynamic_modifier = { modifier = PAC_home_defense_3 } }
							remove_dynamic_modifier = {
								modifier = PAC_home_defense_3
							}
						}
					}
				}
			}
			
		}
	}


}






SPT_propaganda_campaigns = {
	JAP_me_want_supply= {
		days_remove = 10
		
		
		available = {
			custom_trigger_tooltip = {
				tooltip = need_spare_slot_tt
				OR = {
					check_variable = {PROP_poster_left_icon_frame = 2}
					check_variable = {PROP_poster_centre_icon_frame = 2}
					check_variable = {PROP_poster_right_icon_frame = 2}
				}
			}	
		}
		modifier = {
			supply_factor = 1
		}

		complete_effect = {
			set_temp_variable = {frame = 3}
			if = {
				limit = { check_variable = {PROP_poster_left_icon_frame = 2} }
				set_country_flag = {
					flag = PROP_left_days_remaining
					days = 10
					value = 1
				}
				set_variable = {PROP_poster_left_icon_frame = frame}
				set_temp_variable = {slot = 1}
			}
			else_if = {
				limit = { check_variable = {PROP_poster_centre_icon_frame = 2} }
				set_country_flag = {
					flag = PROP_centre_days_remaining
					days = 10
					value = 1
				}
				set_variable = {PROP_poster_centre_icon_frame = frame}
			}
			else = {
				set_country_flag = {
					flag = PROP_right_days_remaining
					days = 10
					value = 1
				}
				set_variable = {PROP_poster_right_icon_frame = frame}
			}
			
		}

		remove_effect = {
			set_temp_variable = {frame = 3}
			if = {
				limit = {
					check_variable = {PROP_poster_left_icon_frame = frame}
				}
				set_variable = {PROP_poster_left_icon_frame = 2}
			}
			else_if = {
				limit = {
					check_variable = {PROP_poster_centre_icon_frame = frame}
				}
				set_variable = {PROP_poster_centre_icon_frame = 2}
			}
			else = {
				set_variable = {PROP_poster_right_icon_frame = 2}
			}
		}
	}
	
	
	SPT_unlock_slot = {
		complete_effect = {
			prop_add_slot = yes
		}
	}

}